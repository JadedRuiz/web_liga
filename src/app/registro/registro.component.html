<div class="container-fluid">
    <div class="row align-items-center minh-100 fondo py-sm-4">
        <div class="col-md-6 offset-md-3">
            <div class="login-form bg-light mt-4 p-4" style="opacity: .9;">
                <div class="form">
                    <div class="form-row">
                        <div class="col-12">
                            <a routerLink="/login" style="color: #38b44a;font-size: 24px;"><i class="fas fa-long-arrow-alt-left"></i></a>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-12 text-center">
                            <h5 class="text-center">REGISTRA A TU EQUIPO</h5>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-12">
                            <mat-tab-group mat-align-tabs="start">
                                <mat-tab label="EQUIPO">
                                    <div class="container mt-2">
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="row align-items-center">
                                                    <div class="col-11">
                                                        <label for="formFile" class="form-label">Recibo de pago</label>
                                                        <input class="form-control" type="file" accept=".jpg" (change)="cambiarImagen($event)" name="file">
                                                    </div>
                                                    <div class="col-1 pt-lg-4" style="font-size: 32px;color: #38b44a;">
                                                        <i class="fas fa-camera" (click)="tomarFoto()" style="cursor: pointer;" title="Tomar foto"></i>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 mt-1">
                                                <label for="formFile" class="form-label">Nombre del equipo</label>
                                                <input class="form-control" type="text" [(ngModel)]="json.equipo" style="text-transform: uppercase;" name="equipo">
                                            </div>
                                            <div class="col-12 mt-2">
                                                <label for="formFile" class="form-label">Categoria</label>
                                                <select class="form-select" aria-label="Default select example" [(ngModel)]="json.CategoriaID">
                                                    <option selected disabled>Selecciona la categoria del equipo</option>
                                                    <option *ngFor="let categoria of categorias" value="{{categoria.CategoriaID}}">{{categoria.Categoria}}</option>
                                                  </select>
                                            </div>
                                        </div>
                                    </div>
                                </mat-tab>
                                <mat-tab label="REPRESENTANTE">
                                    <div class="container mt-2">
                                        <div class="row">
                                            <div class="col-lg-6 col-sm-12 form-group">
                                                <label for="formFile" class="form-label">CURP</label>
                                                <input class="form-control" type="text" [(ngModel)]="json.curp" style="text-transform: uppercase;" maxlength="18" required name="curp">
                                            </div>
                                            <div class="col-lg-6 col-sm-12 form-group">
                                                <label for="formFile" class="form-label">Telefono</label>
                                                <input class="form-control" type="text" [(ngModel)]="json.telefono" style="text-transform: uppercase;" maxlength="10" name="telefono">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-4 col-sm-6 form-group">
                                                <label for="formFile" class="form-label">Apellido paterno</label>
                                                <input class="form-control" type="text" [(ngModel)]="json.apellido_p" style="text-transform: uppercase;" required name="apeP">
                                            </div>
                                            <div class="col-lg-4 col-sm-6 form-group">
                                                <label for="formFile" class="form-label">Apellido materno</label>
                                                <input class="form-control" type="text" [(ngModel)]="json.apellido_m" style="text-transform: uppercase;" required>
                                            </div>
                                            <div class="col-lg-4 col-sm-12 form-group">
                                                <label for="formFile" class="form-label">Nombre (s)</label>
                                                <input class="form-control" type="text" [(ngModel)]="json.nombres" style="text-transform: uppercase;" required name="apeM">
                                            </div>
                                            <div class="col-4 form-group">
                                                <label for="formFile" class="form-label">Correo</label>
                                                <input class="form-control" type="text" [(ngModel)]="json.correo" name="correo" required>
                                            </div>
                                            <div class="col-4 form-group">
                                                <label for="formFile" class="form-label">Contraseña</label>
                                                <input class="form-control" type="password" [(ngModel)]="json.contra" maxlength="50" name="contra" required>
                                            </div>
                                            <div class="col-4 form-group">
                                                <label for="formFile" class="form-label">Repetir contraseña</label>
                                                <input class="form-control" type="password" name="repit">
                                            </div>
                                        </div>
                                    </div>
                                </mat-tab>
                            </mat-tab-group>
                        </div>
                        <div class="col-12 text-right mt-2">
                            <button class="btn" style="background: #38b44a;" (click)="enviar()">Enviar inscripción</button>
                        </div>
                    </div>
                </div>
                <hr class="mt-4">
                <div class="col-12">
                    <small class="text-center text-warning mb-0">Tu solicitud de inscripción será revisada, te llegará un correo de confirmación para que puedas acceder a la plataforma</small>
                </div>
            </div>
        </div>
    </div>
</div>
<ng-template #modal_camera let-camera>
    <div class="modal-header">
        <h2 class="modal-title" id="tituloModal">Tomar fotografia</h2>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div *ngIf="isCameraExist; else noCameraExist" class="col-12">
                    <div class="border border-success rounded text-center" style="width: 100%;height: 265px;">
                        <webcam [height]="450" [width]="350" [trigger]="triggerObservable" (imageCapture)="handleImage($event)"
                        *ngIf="showWebcam" [switchCamera]="nextWebcamObservable"></webcam>
                    </div>
                
                    <div *ngIf="errors.length > 0">
                        <h4>Error Messages:</h4>
                        <ul *ngFor="let error of errors">
                            <li>{{ error | json }}</li>
                        </ul>
                    </div>
                </div>
                
                <ng-template #noCameraExist>
                    <div class="border border-danger rounded text-center" style="display: flex;justify-content: center;align-items: center;width: 450px;height: 350px;">
                        Este dispositivo no cuenta con una camara disponible
                    </div>
                </ng-template>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-warning" (click)="camera.close()">Cerrar</button>
        <button *ngIf="isCameraExist" type="button" class="btn btn-success" (click)="takeSnapshot()">Tomar foto</button>
    </div>
</ng-template>